<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>test map</title>
</head>

<body>
    <!-- https://mapshaper.org/ -->
    <!-- 啟動專案: http-server . -->
    <!-- 整個專案做完記得跑 npm uninstall http-server -->
    <!-- data: https://data.gov.tw/dataset/7442 -->
    <!-- data: https://opendata.cwb.gov.tw/devManual/insrtuction -->
    <!-- readme pdf: https://opendata.cwb.gov.tw/opendatadoc/CWB_Opendata_API_V1.2.pdf -->
    <div class="container">
        天氣api (update every 5 seconds)
        <br>
        => 台灣各縣市目前降雨量百分比分配圖(0 ~ 100%)
    </div>
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/d3/d3.min.js"></script>
    <script src="index.js"></script>
    <script type="text/javascript">
    $(function() {

        d3.json("country.json", function(error, geo) {
            if (error) {
                return console.error(error);
            }
            console.log('success');
            console.log(geo.features);

            var geoGenerator = initMap();

            renderMap(geo, geoGenerator);

            setInterval(function(){
                renderMap(geo, geoGenerator);
            }, 5000);

        });

    });
    
    </script>
</body>

</html>